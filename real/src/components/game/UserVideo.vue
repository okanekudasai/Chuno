<template>
<div v-if="streamManager">
	<ov-video :stream-manager="streamManager"/>
	<div><p>{{ clientData }}</p></div>
</div>
</template>

<script>
import OvVideo from '@/components/game/OvVideo.vue';

    export default {
        name: 'UserVideo',

        components: {
            OvVideo,
        },

        props: {
            streamManager: Object,
        },

        computed: {
            clientData () {
                console.log("*************")
                const { clientData } = this.getConnectionData();
                return clientData;
            },
        },

        methods: {
            getConnectionData () {
                const { connection } = this.streamManager.stream;
                return JSON.parse(connection.data);
            },
        },

        created() {
            console.log("+++++++++++++", this.streamManager)
        }
    }
</script>

<style lang="scss" scoped>

</style>